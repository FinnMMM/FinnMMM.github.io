
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Amortized Analysis &amp; Dynamic Array &amp; Splay Tree | Myease „ÅÆ Page</title>
    <meta name="author" content="Myease" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>






<script src="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.css" />
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline-meta.min.css" />




<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>Âä†ËΩΩËøáÊÖ¢ËØ∑ÂºÄÂêØÁºìÂ≠ò ÊµèËßàÂô®ÈªòËÆ§ÂºÄÂêØ</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>MYEASE „ÅÆ PAGE</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;MYEASE „ÅÆ PAGE</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article-toc">
    
    <div id="toccard">
        <div id="toccard-style">
    <div id="card-div">
        <div class="description">
            <h2><span id="x2b50ÊñáÁ´†ÁõÆÂΩïx2b50"><span class="emoji" alias="star" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8">&#x2b50;</span>ÊñáÁ´†ÁõÆÂΩï<span class="emoji" alias="star" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8">&#x2b50;</span></span></h2>
<!-- toc -->
<ul>
<li><a href="#amortized-analysis">Amortized Analysis</a>
<ul>
<li><a href="#aggregate-analysis">Aggregate analysis</a></li>
<li><a href="#accounting-method">Accounting Method</a></li>
<li><a href="#potential-function">Potential Function</a></li>
</ul>
</li>
<li><a href="#splay-tree">Splay Tree</a>
<ul>
<li><a href="#definition-2">Definition</a></li>
<li><a href="#splay-operation">Splay Operation</a></li>
<li><a href="#time-complexity-analysis">Time Complexity Analysis</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<p><span class="emoji" alias="point_down" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png?v8">
        </div>
    </div>
</div>


    </div>
    
    <div class="article">
        <div>
            <h1>Amortized Analysis &amp; Dynamic Array &amp; Splay Tree</h1>
        </div>
        <div class="info">
            <span class="date">
                <span class="icon">
                    <i class="fa-solid fa-calendar fa-fw"></i>
                </span>
                2024/12/25
            </span>
            
            
            <span class="tags">
                <span class="icon">
                    <i class="fa-solid fa-tags fa-fw"></i>
                </span>
                
                
                <span class="tag">
                    
                    <a href="/tags/ADS/" style="color: #00a596">
                        ADS
                    </a>
                </span>
                
            </span>
            
        </div>
        
        <div class="content" v-pre>
            <h2><span id="x2b50ÊñáÁ´†ÁõÆÂΩïx2b50"><span class="emoji" alias="star" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8">&#x2b50;</span>ÊñáÁ´†ÁõÆÂΩï<span class="emoji" alias="star" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8">&#x2b50;</span></span></h2>
<!-- toc -->
<ul>
<li><a href="#amortized-analysis">Amortized Analysis</a>
<ul>
<li><a href="#aggregate-analysis">Aggregate analysis</a></li>
<li><a href="#accounting-method">Accounting Method</a></li>
<li><a href="#potential-function">Potential Function</a></li>
</ul>
</li>
<li><a href="#splay-tree">Splay Tree</a>
<ul>
<li><a href="#definition-2">Definition</a></li>
<li><a href="#splay-operation">Splay Operation</a></li>
<li><a href="#time-complexity-analysis">Time Complexity Analysis</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<p><span class="emoji" alias="point_down" style fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png?v8">üëá</span></p>
<h2><span id="amortized-analysis">Amortized Analysis</span></h2>
<h3><span id="definition">Definition</span></h3>
<ul>
<li>Any $M$ consecutive operations take at most $O(M log N)$ time.</li>
<li>Amortized time bound.</li>
<li>$T_{worst}\geq T_{amortized}\geq T_{average}\geq T_{best}$</li>
</ul>
<h3><span id="aggregate-analysis">Aggregate analysis</span></h3>
<h4><span id="definition"> Definition</span></h4>
<ul>
<li>Show that for all $n$, a sequence of $n$ operations takes worst-case time $T(n)$ in total.  In the worst case, the average cost, or amortized cost, per operation is therefore $T(n)/n$.</li>
</ul>
<h4><span id="example-dynamic-array"> Example: Dynamic Array</span></h4>
<h5><span id="definition">Definition</span></h5>
<ul>
<li>A dynamic array is a array with initial capacity $1$.</li>
<li>When the array is full,it doubles its capacity.</li>
</ul>
<h5><span id="insertion">Insertion</span></h5>
<ul>
<li>
<p>It takes $O(n)$ in worst case but amortized time is $O(1)$ per operation.</p>
</li>
<li>
<p>We define $W(m)$ as the cost of a sequence of $m$ insertions into an initially empty dynamic array.</p>
</li>
<li>
<p>$T(m)=mc + (1 +2)c+ (2+4)c+‚Ä¶+(2^k+2^{k+1})c$,where $k= log_2(n)$.</p>
</li>
<li>
<p>In the given formula, $c$ is a constant, $mc$ refers to the cost of write $m$ elements into the array, and in the $(2^k+2^{k+1})c$ term,$2^kc$ refers to the cost of copying the array while $2^{k+1}c$ refers to the cost of creating a new array with doubled capacity.</p>
</li>
<li>
<p>$T(m)=mc + (1 +2)c+ (2+4)c+‚Ä¶+(2^k+2^{k+1})c\leq mc+6mc=7mc$</p>
</li>
<li>
<p>$T_{amortized}=\frac{T(m)}{m}=7c=O(1)$</p>
</li>
</ul>
<h3><span id="accounting-method">Accounting Method</span></h3>
<h5><span id="definition">Definition</span></h5>
<ul>
<li>When an operation‚Äôs amortized cost exceeds its actual cost, we assign the difference to specific objects in the data structure as credit. Credit can help pay for later operations whose amortized cost is less than their actual cost.</li>
<li>$T_{amortized} = T_{actual} + T_{credit}$</li>
</ul>
<h4><span id="example-two-stack-queue"> Example: Two-Stack Queue</span></h4>
<ul>
<li>A Two-Stack Queue is a queue with two stacks,one for input and one for output.<br>
<img src="/2024/12/25/ads-2/1.jpg" alt></li>
</ul>
<h5><span id="enqueue-operation">Enqueue Operation</span></h5>
<pre><code class="language-pesudo">In.push(x)
</code></pre>
<h5><span id="dequeue-operation">Dequeue Operation</span></h5>
<pre><code class="language-pesudo">if out.not_empty():
    out.pop()
else if In.not_empty():
    while In.not_empty():
        x = In.pop()
        out.push(x)
    out.pop()
</code></pre>
<ul>
<li>Enqueue operation takes $O(1)$ time in the worst case.</li>
<li>Dequeue operation takes $O(n)$ time in the worst case.</li>
<li>Amortized time for enqueue and dequeue operation is $O(1)$ per operation.</li>
</ul>
<h5><span id="amortized-analysis">Amortized Analysis</span></h5>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">acutal</th>
<th style="text-align:center">credit</th>
<th style="text-align:center">amortized</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Enqueue</td>
<td style="text-align:center">$c$</td>
<td style="text-align:center">$2c$</td>
<td style="text-align:center">$3c$</td>
</tr>
<tr>
<td style="text-align:center">Dequeue</td>
<td style="text-align:center">$2c\times$|$In$|$+c$</td>
<td style="text-align:center">$-2c\times$|$In$|</td>
<td style="text-align:center">$c$</td>
</tr>
</tbody>
</table>
<ul>
<li>It can be easily seen that the amortized time for enqueue and dequeue operation is $O(1)$ per operation.</li>
<li>And the credit accumulated will always larger than 0.</li>
</ul>
<h3><span id="potential-function">Potential Function</span></h3>
<h4><span id="definition"> Definition</span></h4>
<ul>
<li>$\phi(i)$ equals to the total number fo credits remaing after $i$ operations.</li>
<li>$\phi(i)$ is a potential function.</li>
<li>$\Delta\phi(i) = \phi(i)-\phi(i-1)$.</li>
<li>$T_{amortized}(i) = T_{actual}(i) + \Delta\phi(i)$</li>
<li>$\phi(i) \geq \phi(0)$</li>
</ul>
<h4><span id="example-two-stack-queue"> Example: Two-Stack Queue</span></h4>
- $\phi(0) = 0$
- $\phi(i)$ equals to the number of elements in the input stack after $i$ operations.
<h2><span id="splay-tree">Splay Tree</span></h2>
<h3><span id="definition">Definition</span></h3>
<ul>
<li>$splay(u)$ is rotate $u$ to the root of the tree.</li>
<li>$findkey()$
<ul>
<li>1.find as BST</li>
<li>2.splay the node to root</li>
</ul>
</li>
<li>$insert()$
<ul>
<li>1.insert as BST</li>
<li>2.splay the node to root</li>
</ul>
</li>
<li>$delete()$
<ul>
<li>1.splay the node to root</li>
<li>2.delete it.</li>
<li>3.if u has only one child,finish.</li>
<li>4.if u has two children,splay the largest node in the left subtree(or the smallest node in the right subtree) and attach another subtree to it.</li>
</ul>
</li>
</ul>
<h3><span id="splay-operation">Splay Operation</span></h3>
<h5><span id="case-1-u-is-a-child-of-the-root">case 1: u is a child of the root</span></h5>
<p><img src="/2024/12/25/ads-2/2.jpg" alt></p>
<ul>
<li>Perform a <strong>Rotation</strong> on $u$.</li>
</ul>
<h5><span id="case-2-u-has-grandparent">case 2: u has grandparent</span></h5>
<h6><span id="case-2-1zig-zag">case 2-1:zig-zag</span></h6>
<p><img src="/2024/12/25/ads-2/3.jpg" alt></p>
<ul>
<li>Perform a <strong>Rotation</strong> on $u$ to make it as the parent of its orignial parent $Y$.</li>
<li>Perform a <strong>Rotation</strong> on $u$ to make it as the parent of its parent original $Y$ and original grandparent $w$.</li>
</ul>
<h6><span id="case-2-2zig-zig">case 2-2:zig-zig</span></h6>
<p><img src="/2024/12/25/ads-2/4.jpg" alt></p>
<ul>
<li>Perform a <strong>Rotation</strong> on $v$ to make it as the parent of its orignial parent $w$.</li>
<li>Perform a <strong>Rotation</strong> on $u$ to make it as the parent of its parent original $v$.</li>
</ul>
<h3><span id="time-complexity-analysis">Time Complexity Analysis</span></h3>
<ul>
<li>Given a BST $T_{u}$</li>
<li>For each $u \isin T$, $T_{u}$ is the subtree rooted at $u$.</li>
<li>$\delta(u)=log(|T_{u}|)$</li>
<li>$\phi(T)=c\sum_{u \in T} \delta(u)$</li>
<li>$T‚Äô$ is the splay tree after $splay(u)$ on T.</li>
<li>$\Delta\phi(T‚Äô)=\phi(T‚Äô)-\phi(T)\leq 3c(\delta‚Äô(u)-\delta(u))-2c\times|Rotations-1|$</li>
</ul>
<pre><code class="language-Theorem">The amortized time to splay a tree with root T at node X is at most 
3( R( T ) ‚Äì R ( X ) ) + 1 = O(log N).
</code></pre>
<div style="font-size:16px"><span style="float:right"><a href="https://finnmmm.github.io/2024/12/25/ads-3" target="_self">‰∏ã‰∏ÄÁØá : B+ Tree, Leftist Heap and Skew Heap</a></span><a href="https://finnmmm.github.io/2024/12/24/ads-1" target="_self">‰∏ä‰∏ÄÁØá : AVL Tree and Red-Black Tree</a></div>

        </div>

        
        
        
        
        
        <div id="comment">
            <div id="waline-container"></div>
        </div>
        
        
        
    </div>

</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2024 - 2024 Myease „ÅÆ Page
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Myease
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    


<script>
    Waline.init({
        el: "#waline-container",
        serverURL: "vercin.vercel.app",
        commentCount: true,
        pageview: false,
        emoji: "https://unpkg.com/@waline/emojis@1.2.0/weibo,https://unpkg.com/@waline/emojis@1.2.0/alus,https://unpkg.com/@waline/emojis@1.2.0/bilibili,https://unpkg.com/@waline/emojis@1.2.0/qq,https://unpkg.com/@waline/emojis@1.2.0/tieba,https://unpkg.com/@waline/emojis@1.2.0/tw-emoji".split(","),
        meta: "nick,mail,link".split(","),
        requiredMeta: "nick".split(","),
        lang: "",
        wordLimit: 0,
        pageSize: "10",
        login: "enable",
        
    });
</script>



    
    <canvas
            id="fireworks"
            style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
    ></canvas>
    <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="/js/fireworks.min.js"></script>
</body>
</html>
